FROM python:3.12-slim

# Set working directory
WORKDIR /home/app

# Copy project files
COPY ./app ./app
COPY ./.env ./.env

# Install Python dependencies
COPY ./app/requirements.txt ./requirements.txt
RUN pip install -r requirements.txt

# Install additional required packages
RUN pip install python-dotenv langchain-openai langchain-community langchain-google-community

# Expose FastAPI port
EXPOSE 7777

# Start the FastAPI app
CMD ["python", "./app/app.py"]